view:
  name: 'PtTransItemDetailPosView'
  description: '2023-08-02/FIN-9318/daga: condition added for PtTransItem HdVersionNo between 1 and 999999998'
frontendView:
  name: 'PtTransItemDetailPosView'
  description: ''
  tableUsageNo: 1
  domainType: 10
  headerTable: 'HdStandard'
  genericComponents:
    tableType: 5
    groupId: 81a3a910-e114-4a8b-892c-bbbaa4bd60c8
    visumLevel: 1
    cacheLevel: 1
  columns:
  - name: 'TransactionId'
    description: 'NULL - if PtTransItemDetail exists, then the PtTransaction.Id is stored there.'
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PtTransaction'
      refField: 'Id'
      hasDetailBtn: true
  - name: 'PositionId'
    description: ''
    dataType: 'uniqueidentifier'
    isNotNull: true
    genericControls:
      refTable: 'PtPosition'
      refField: 'Id'
      isNoUpdate: true
  - name: 'MessageId'
    description: 'It is Id of PtTransMessage'
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PtTransMessage'
      refField: 'Id'
      isNoUpdate: true
  - name: 'SourcePositionId'
    description: 'Relation to the underlying position'
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PtPosition'
      refField: 'Id'
  - name: 'GroupKey'
    description: 'possible key format: yyyymmddhhmmssqqq where \r\nyyyymmdd = date, hhmmss = time\r\nqqqq = sequence no within the a second\r\nIt is used to force a single advice for multiple PtTransItem. The key remains the same for unprinted items. Therefore items sharing the same GroupKey are grouped together in a same advice. After printing is done a new entry is given a new GroupKey'
    dataType: 'nvarchar'
    prec: 21
  - name: 'TransMsgStatusNo'
    description: 'This field has 4 possible status:\r\n- NULL = normal\r\n- this original transaction is cancelled\r\n- this is a cancellation transaction\r\n- Rektifikat'
    dataType: 'int'
    genericControls:
      refTable: 'PtTransMsgStatus'
      refField: 'TransMsgStatusNo'
  - name: 'IsInactive'
    description: 'True means that this record is to ignore for bonus calculation and printing external account statements.'
    dataType: 'bit'
    isNotNull: true
    defaultValue: '0'
  - name: 'RealDate'
    description: 'Dieses Datum wird benötigt, um eine Buchung dem effektiven Datum zuzuweisen, im speziellen für die Verbuchung der Gewinnverteilung am Jahresende benötigt. Dieses Datum wird defaultmässig auf TransDate gesetzt, kann jedoch mit speziellen Applikationen abweichend geladen werden.'
    dataType: 'datetime'
    genericControls:
      isNoUpdate: true
  - name: 'TransDate'
    description: 'Date of transaction posting'
    dataType: 'datetime'
    isNotNull: true
    genericControls:
      defColumnPos: 2
  - name: 'TransDateTime'
    description: 'Date & Time of transaction posting'
    dataType: 'datetime'
    isNotNull: true
    defaultValue: 'getdate()'
  - name: 'ValueDate'
    description: 'Date of transaction settlement'
    dataType: 'datetime'
    isNotNull: true
  - name: 'TradeDate'
    description: 'Date on wich the transaction (e.g. trade, interest payment, cash payment) was fixed.'
    dataType: 'datetime'
  - name: 'IsInterestPayment'
    description: 'This field will be removed with next release. Do use field IsDueRelevant instead of IsInterestPayment.\r\n-----\r\nUsed especially for mortgages:\r\nTrue = Interest payment\r\nFalse = Capital payment'
    dataType: 'bit'
    isNotNull: true
    defaultValue: '0'
  - name: 'DebitQuantity'
    description: ''
    dataType: 'money'
    isNotNull: true
    defaultValue: '0'
    genericControls:
      defColumnPos: 5
  - name: 'DebitAmount'
    description: 'This field contains the amount to be debited from an account. In case of credit transaction this field contains 0'
    dataType: 'money'
    isNotNull: true
    scale: 4
    defaultValue: '0'
    genericControls:
      defColumnPos: 3
  - name: 'CreditQuantity'
    description: ''
    dataType: 'money'
    isNotNull: true
    defaultValue: '0'
    genericControls:
      defColumnPos: 6
  - name: 'CreditAmount'
    description: 'This field contains the amount to be credit to an account. In case of debit transaction this field contains 0'
    dataType: 'money'
    isNotNull: true
    scale: 4
    defaultValue: '0'
    genericControls:
      defColumnPos: 4
  - name: 'RateAcCuPfCu'
    description: 'Exchange rate between position currency (original curr.) and portfolio currency (target curr.). Position and portfolio are based on field PositionId'
    dataType: 'float'
  - name: 'SourceAmountCvAcCu'
    description: 'Amount in currency of source position (field SourcePositionId).'
    dataType: 'money'
  - name: 'RateSourceAcCuPfCu'
    description: 'Exchange rate between position currency (original curr.) and portfolio currency (target curr.). Position and portfolio are based on field SourcePositionId'
    dataType: 'float'
  - name: 'SourceCvAmountTypeNo'
    description: 'Amount type for booking in the portfolio bookkeeping (also called as cost value system)'
    dataType: 'int'
    genericControls:
      refTable: 'PtTransCvAmountType'
      refField: 'CvAmountTypeNo'
  - name: 'TextNo'
    description: 'It refers to PtTransItemText. This text is displayed on Account Statements.'
    dataType: 'smallint'
    isNotNull: true
    genericControls:
      refTable: 'PtTransItemText'
      refField: 'TextNo'
      defColumnPos: 1
  - name: 'MainTransText'
    description: 'This text is printed on a statement of account report'
    dataType: 'nvarchar'
    prec: 150
    genericControls:
      multiLine: true
  - name: 'TransText'
    description: 'It is text entered by the Cashier or account manager'
    dataType: 'nvarchar'
    prec: 150
    genericControls:
      multiLine: true
  - name: 'CounterParty'
    description: 'Optional description of the counter party, e.g. payee in case of payments'
    dataType: 'nvarchar'
    prec: 255
    genericControls:
      multiLine: true
  - name: 'ServiceCenterNo'
    description: 'Transaction can occur any any branch of the bank. A branch of a bank can be consider as servicecenter providing services to customer. ServiceCenter stores the information about the branch/center, where transaction is happening. It comes from AsProfitCenter.ProfitCenterNo'
    dataType: 'int'
    isNotNull: true
    genericControls:
      refTable: 'AsProfitCenter'
      refField: 'ProfitCenterNo'
  - name: 'MatchingCode'
    description: ''
    dataType: 'nvarchar'
    prec: 32
  - name: 'Project'
    description: '[bank internal project]'
    dataType: 'nvarchar'
    prec: 25
  - name: 'PeriodFrom'
    description: '[bank internal project]'
    dataType: 'datetime'
  - name: 'PeriodTo'
    description: '[bank internal project]'
    dataType: 'datetime'
  - name: 'BudgetValue'
    description: '[bank internal project]'
    dataType: 'money'
    scale: 4
  - name: 'VatCode'
    description: 'refers AsVATCode.VATTaxType, but not one to one'
    dataType: 'smallint'
    genericControls:
      refTable: 'AsVatCode'
      refField: 'VATTaxTypeNo'
  - name: 'AdvicePrinted'
    description: 'If advice is printed, this field is set True else it is set False'
    dataType: 'bit'
    isNotNull: true
  - name: 'BookletPrintDate'
    description: 'Last printing date of booklet. If this field is null then no booklet is to be printed.'
    dataType: 'datetime'
  - name: 'BookletPageNo'
    description: 'Page Number of booklet on which current transaction is printed. NULL value means transaction is not printed yet.'
    dataType: 'int'
  - name: 'BookletLineNo'
    description: 'Line Number of booklet on which current transaction is printed. NULL value means transaction is not printed yet.'
    dataType: 'int'
  - name: 'CompletionDate'
    description: 'This field relates to concept of Data Partioning. It is first value is MAXDATE (9999-12-31). It is then later changed by another process responsible for the task of Partioning.'
    dataType: 'datetime'
    isNotNull: true
    defaultValue: '''9999-12-31'''
  - name: 'IsClosingItem'
    description: '0 = false = no closing item\r\n1 = true = is closing item (=Abschlussbuchung)'
    dataType: 'bit'
    isNotNull: true
    defaultValue: '0'
  - name: 'IsDueRelevant'
    description: 'If this field is true, this amount have also booked in the DueValue... fields in table PtPosition.'
    dataType: 'bit'
    isNotNull: true
    defaultValue: '0'
  - name: 'IsSuspicious'
    description: 'not any more used (MWI)'
    dataType: 'bit'
    isNotNull: true
    defaultValue: '0'
  - name: 'MgVrxBuNr'
    description: 'Buchungsnummer in VRX'
    dataType: 'decimal'
    prec: 15
    genericControls:
      isOnlyForMig: true
  - name: 'MgBuffer'
    description: 'True (1) : Sum the transitems for back migration to VRX for the same account. SumOfDebits and SumOfCredits should be same.\r\nFalse (0) : Don''t Sum the transitems. Treat it normal.'
    dataType: 'bit'
    isNotNull: true
    defaultValue: '0'
  - name: 'MgBetragSfr'
    description: 'Betrag in SFT bei Fremdwährungsbuchungen, nur für Rückmigration benötigt!'
    dataType: 'money'
    genericControls:
      isOnlyForMig: true
  - name: 'MgSpesen'
    description: 'Summe der vorgemerkte Spesen für Rückmigration'
    dataType: 'money'
    genericControls:
      isOnlyForMig: true
  - name: 'MgMenge'
    description: ''
    dataType: 'money'
    genericControls:
      isOnlyForMig: true
  - name: 'MgHandelsWrg'
    description: ''
    dataType: 'char'
    prec: 3
    genericControls:
      isOnlyForMig: true
  - name: 'MgKurs'
    description: ''
    dataType: 'decimal'
    prec: 28
    scale: 10
    genericControls:
      isOnlyForMig: true
  - name: 'MgBruttoHandelsWrg'
    description: ''
    dataType: 'money'
    genericControls:
      isOnlyForMig: true
  - name: 'MgChange'
    description: ''
    dataType: 'float'
    genericControls:
      isOnlyForMig: true
  - name: 'MgNettoKundenWrg'
    description: ''
    dataType: 'money'
    genericControls:
      isOnlyForMig: true
  - name: 'MgDepNr'
    description: ''
    dataType: 'varchar'
    prec: 10
    genericControls:
      isOnlyForMig: true
  - name: 'MgValNrAnrecht'
    description: 'vvvvvvvvaa'
    dataType: 'varchar'
    prec: 10
    genericControls:
      isOnlyForMig: true
  - name: 'MgLabDat'
    description: 'Letztes AbschlussDatum in VRX\r\nDient zum Update von PtAccountClosingPeriod'
    dataType: 'datetime'
  - name: 'MgLabVal'
    description: 'Letztes AbschlussValuta in VRX\r\nDient zum Update von PtAccountClosingPeriod'
    dataType: 'datetime'
  - name: 'MgLabSaldo'
    description: 'Saldo nach letztem Abschluss in VRX\r\nDient zum Update von PtAccountClosingPeriod'
    dataType: 'money'
  - name: 'MgLabAuszug'
    description: 'Datum des lezten Kontoauszuges in VRX\r\nDient zum Update von PtAccountStatementPeriod'
    dataType: 'datetime'
  - name: 'CardNo'
    description: 'Debit or Credit CardNo used for this'
    dataType: 'nvarchar'
    prec: 16
  - name: 'SourceKey'
    description: 'Unique key for unique identification'
    dataType: 'nvarchar'
    isNotNull: true
    isUnique: true
    prec: 100
  - name: 'ClearingNo'
    description: '- Clearing number of card issuing bank (for ATM transactions only)'
    dataType: 'nvarchar'
    prec: 25
  - name: 'AmountCvAcCu'
    description: ''
    dataType: 'money'
  - name: 'CvAmountTypeNo'
    description: ''
    dataType: 'int'
    genericControls:
      refTable: 'PtTransCvAmountType'
      refField: 'CvAmountTypeNo'
  - name: 'CvBookStatusNo'
    description: ''
    dataType: 'tinyint'
    genericControls:
      refTable: 'PtCvBookStatus'
      refField: 'CvBookStatusNo'
  - name: 'SourceCvBookStatusNo'
    description: ''
    dataType: 'tinyint'
    genericControls:
      refTable: 'PtCvBookStatus'
      refField: 'CvBookStatusNo'
  - name: 'SourcePosIsCvRelevant'
    description: ''
    dataType: 'bit'
    isNotNull: true
  - name: 'DetailsOnStatement'
    description: 'Defines if the transaction details have to be printed in the account statement'
    dataType: 'bit'
    isNotNull: true
    defaultValue: '0'
  - name: 'PartnerId'
    description: ''
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PtDescriptionView'
      refField: 'Id'
      hasDetailBtn: true
      defColumnPos: 1
  - name: 'ReportAdrLine'
    description: ''
    dataType: 'nvarchar'
    prec: 200
    genericControls:
      defColumnPos: 2
  - name: 'PortfolioId'
    description: ''
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PtPortfolioView'
      refField: 'Id'
      hasDetailBtn: true
      defColumnPos: 3
  - name: 'PortfolioNo'
    description: ''
    dataType: 'decimal'
    prec: 11
    genericControls:
      defColumnPos: 4
  - name: 'PortfolioNoEdited'
    description: ''
    dataType: 'nvarchar'
    prec: 13
    genericControls:
      defColumnPos: 5
  - name: 'ProdReferenceId'
    description: ''
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PrReferenceDataView'
      refField: 'Id'
      hasDetailBtn: true
  - name: 'AccountId'
    description: ''
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PtAccountView'
      refField: 'Id'
      hasDetailBtn: true
      defColumnPos: 6
  - name: 'AccountNo'
    description: ''
    dataType: 'decimal'
    prec: 11
    genericControls:
      defColumnPos: 7
  - name: 'AccountNoEdited'
    description: ''
    dataType: 'nvarchar'
    prec: 20
    genericControls:
      defColumnPos: 8
  - name: 'CustomerReference'
    description: ''
    dataType: 'nvarchar'
    prec: 200
    genericControls:
      defColumnPos: 9
  - name: 'PublicId'
    description: ''
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PrPublicDescriptionView'
      refField: 'Id'
      hasDetailBtn: true
      defColumnPos: 10
  - name: 'IsinNo'
    description: ''
    dataType: 'varchar'
    prec: 12
    genericControls:
      defColumnPos: 11
  - name: 'PublicShortName'
    description: ''
    dataType: 'nvarchar'
    prec: 40
    genericControls:
      defColumnPos: 13
  - name: 'Currency'
    description: ''
    dataType: 'char'
    prec: 3
    genericControls:
      defColumnPos: 14
  - name: 'ProductTextShort'
    description: ''
    dataType: 'nvarchar'
    prec: 25
    genericControls:
      defColumnPos: 15
  - name: 'LocGroupNo'
    description: ''
    dataType: 'smallint'
    genericControls:
      defColumnPos: 16
  - name: 'LanguageNo'
    description: ''
    dataType: 'tinyint'
    genericControls:
      refTable: 'AsLanguage'
      refField: 'LanguageNo'
  - name: 'SourcePortfolioId'
    description: ''
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PtPortfolioView'
      refField: 'Id'
      hasDetailBtn: true
  - name: 'SourcePortfolioNoEdited'
    description: ''
    dataType: 'nvarchar'
    prec: 13
  - name: 'SourceProdReferenceId'
    description: ''
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PrRefPosTextView'
      refField: 'Id'
      hasDetailBtn: true
  - name: 'SourceAccountId'
    description: ''
    dataType: 'uniqueidentifier'
    genericControls:
      refTable: 'PtAccountView'
      refField: 'Id'
      hasDetailBtn: true
  - name: 'SourceAccountNoEdited'
    description: ''
    dataType: 'nvarchar'
    prec: 20
  - name: 'MsgSequenceNumber'
    description: ''
    dataType: 'int'
    genericControls:
      defColumnPos: 17
  - name: 'TransNo'
    description: ''
    dataType: 'decimal'
    prec: 12
    genericControls:
      defColumnPos: 18
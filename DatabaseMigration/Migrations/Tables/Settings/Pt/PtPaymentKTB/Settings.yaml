table:
  name: 'PtPaymentKTB'
  description: 'The table contains the KTB Payment entries.'
  tableUsageNo: 1
  domainType: 10
  headerTable: 'HdStandard'
  genericComponents:
    tableType: 2
    groupId: 81a3a910-e114-4a8b-892c-bbbaa4bd60c8
    defArchive: true
    visumLevel: 1
    cacheLevel: 1
    uiTableDescription:
    - english:
        formTitle: 'KTB Payment'
    - german:
        formTitle: 'KTB Zahlung'
    - french:
        formTitle: 'KTB Paiement'
  columns:
  - name: 'FileImportProcessId'
    description: ''
    genericControls:
      refTable: 'CMFileImportProcess'
      refField: 'Id'
      hasDetailBtn: true
  - name: 'TransMessageInId'
    description: ''
    genericControls:
      refTable: 'PtTransMessageIn'
      refField: 'Id'
      hasDetailBtn: true
  - name: 'MsgSequenceNumber'
    description: 'Sequence number of the record in KTB file (Record_Seq_Nr)'
  - name: 'BCNrEndStaoBank'
    description: 'BC number for end standort bank (Stao_BCNREND)'
    genericControls:
      defColumnPos: 4
  - name: 'TransactionType'
    description: 'Transaction Type, for exmaple: KTB_100, KTB_101. In source data we receive only 100 or 101 but to help in  advice printing we  at extension "KTB_"'
    genericControls:
      defColumnPos: 2
  - name: 'BCNrEndKIBank'
    description: 'BC Number End KI Bank (KI_BCNREND)'
    genericControls:
      defColumnPos: 5
  - name: 'BookingInformation'
    description: 'Record Sequence Nr  + STAN - System Trace Audit Nr or Transaction Number (Optional)'
  - name: 'ExternalTransactionDate'
    description: '17 - TRXDatum'
  - name: 'ExternalTransactionTime'
    description: 'TrXZeit'
  - name: 'SettlementDate'
    description: 'The date the on settlement was done at Telekurs. This is used as  value date\r\nVerrechnungsdatum Feld 20'
    genericControls:
      defColumnPos: 1
  - name: 'IsNetSettlementDebit'
    description: 'Verr_Art_Total\r\n0 = Credit\r\n1 = Debit\r\nFeld 21'
  - name: 'NetSettlementAmount'
    description: 'Betrag_Total - Feld 22 (Verrechnung SNB)'
  - name: 'IsSettlementDebit'
    description: 'Verr_Art_Trx\r\n0 = Credit\r\n1 = Debit\r\nFeld 23'
  - name: 'SettlementAmount'
    description: 'Settlement Amount without charges.  Betrage_Trx - Feld 24'
  - name: 'IsStaoChargeDebit'
    description: 'Verr_Art_Stao_Vergüt-ung\r\nTransaction type for standort bank charge\r\n0 = Credit\r\n1 = Debit\r\nFeld 25'
  - name: 'StaoChargeAmount'
    description: 'Charge to be paid by KI for Standort bank\r\nFeld 26'
  - name: 'IsTransactionChargeDebit'
    description: 'Is Transaction_Charge Debit or Credit\r\n0 = Credit\r\n1 = Debit\r\nFeld 27'
  - name: 'TransactionChargeAmount'
    description: 'Gebühren\r\nInterchange auf der Trx, bei Bezug in Fremdwährung\r\n(SIA und SIS) Gegenwert in CHF des Betrages im Feld\r\n102, umgerechnet mit dem im Net Settlement gültigen\r\nKurs (gem. Feld 106)\r\nFeld 28'
  - name: 'TransactionChargeType'
    description: 'Gebühenart\r\n0 = Keine\r\n1 = Interchange: Kommission zugunsten/zulasten der Issuer-Bank\r\n2 = Entschädigung an die Standortbank für Trx mit ausländischen Karten (Feld 42 = ''AIS'')'
  - name: 'SettlementCurrencyNumber'
    description: 'Numerischer ISO-Währungscode'
  - name: 'SettlementCurrency'
    description: 'Alphabetischer ISO-Währungscode'
    genericControls:
      refTable: 'CyBase'
      refField: 'Symbol'
      defColumnPos: 6
  - name: 'CurrencyExponent'
    description: 'Exponent_Whg\r\nBetrag (Felder 22, 24, 26 und 28) geteilt durch 10Exp =\r\nBetrag in der betreffenden Währungseinheit. Die aktuell\r\nmöglichen Settlement-Währungen CHF und EUR weisen\r\nbeide den Exponenten 2 auf.'
  - name: 'CardProductCode'
    description: 'K_Produkt \r\n- MCI = MasterCard\r\n. MAES= Maestro\r\n. AMX = American Express\r\n. VISA = VISA\r\n. PLUS = plus\r\n. BE = bankeigene Karte\r\n. PCD = Postcard\r\n. PCDC = Postcard-Cash\r\n. CASH = Wertkarte (wird nur eingetragen, wenn die\r\nTrägerkarte zu keinem der obigen\r\nKartenprodukte gehört)\r\n. MYO = My One Card'
    genericControls:
      defColumnPos: 11
  - name: 'CardPrimaryAccountNumber'
    description: 'Primary Account Number\r\nNormalfall: Entspr. ISO Spur 2 (ISO 7812)\r\nBankkarten: Entspr. ISO Spur 3 (ISO 7812)\r\nSchweizer Maestro--Karten:\r\nPos 1: Major Industry Identifier =''6''\r\nPos 2-4: Issuer-ID = ''710''\r\nPos. 5-9: BCNR\r\nPos. 10: Spur-2-Kartenart\r\nFeld 32\r\nPos. 11-18: Kartennummer\r\nPos. 19: Luhn Check Digit\r\nSchweizer MasterCard:\r\nPos 1: Major Industry Identifier =''5''\r\nPos 2-6: Issuer-ID\r\nPos. 7-15: Kartennummer\r\nPos. 16: Luhn Check Digit\r\nPos: 17-19: unbenutzt (SPACE)\r\nSchweizer VISA:\r\nPos 1 = ‘4‘, der weitere Aufbau ist uneinheitlich'
  - name: 'CardSequenceNumber'
    description: 'Kartenfolgenummer\r\nKann in sehr seltenen Fällen bei SIA- und POSD-Trx\r\nden Initialwert 000 aufweisen'
  - name: 'CardExpirationDate'
    description: ''
  - name: 'ValueCardId'
    description: ''
  - name: 'WithdrawlSituationCode'
    description: '''SIS''=''Schweizer in der Schweiz'', ''AIS''=''Ausländer in der\r\nSchweiz'', ''SIA''=''Schweizer im Ausland'','
  - name: 'TerminalId'
    description: '45'
  - name: 'TerminalAccount'
    description: 'Feld 48. This is the terminal account information that we receive as part of KTB record. It is not necessary that payment is booked on this account.TerminalId will be used to determine actual ATM debit/Credit AccountNo from AsATMConfig'
  - name: 'KIDetailsPresenceFlag'
    description: '''Y'' oder ''N''\r\n''Y'' <-> Feld 56 bis 68 vorhanden'
  - name: 'SettleCurDetalsPresenceFlag'
    description: ''
  - name: 'ReverseTransDetalsPresenceFlag'
    description: ''
  - name: 'EMVDetalsPresenceFlag'
    description: ''
  - name: 'AdditionalSegmentText'
    description: ''
  - name: 'RejectReasonCode'
    description: ''
    genericControls:
      refTable: 'PtPaymentRejectReason'
      refField: 'RejectCode'
  - name: 'PaymentStatus'
    description: ''
    genericControls:
      refTable: 'PtPaymentKTBStatus'
      refField: 'StatusCode'
      defColumnPos: 3
  - name: 'MessageTypeIn'
    description: 'D1, D2, D3'
  - name: 'ReverseTransactionType'
    description: 'Feld 80'
  - name: 'OriginalBookingInformation'
    description: 'Feld 82'
  - name: 'OriginalTransDate'
    description: 'Entspricht dem Feld 17 der Original-Transaktion.\r\nIst mit dem Initialwert 19600101 gefüllt, wenn bei\r\neiner SIA- oder POSD-Trx kein Matching mit der\r\nOriginal-Trx hergestellt werden kann.\r\nFeld 83'
  - name: 'OriginalTransTime'
    description: 'Entspricht dem Feld 18 der Original-Transaktion.\r\nIst mit dem Initialwert 000000 gefüllt, wenn bei einer\r\nSIA- oder POSD-Trx kein Matching mit der Original-\r\nTrx hergestellt werden kann.\r\nFeld 84'
  - name: 'RevTransCardIssuerReference'
    description: 'Feld 85'
  - name: 'RevTransReasonCode'
    description: 'Feld 87'
  - name: 'RevTransReasonText'
    description: 'Feld 88'
  - name: 'RevTransCustomerCurrencyRate'
    description: ''
  - name: 'KTBSystemCode'
    description: 'Detail Record, Field Id:  07'
    genericControls:
      defColumnPos: 7
  - name: 'ReconCurSettlementAmount'
    description: 'Settlement Amount in reconcillation currency'
  - name: 'ReconCurChargeAmount'
    description: 'Charge Amount in reconcillation currency'
  - name: 'ReconcillationCurrency'
    description: ''
  - name: 'ReconCurrencyExponent'
    description: ''
  - name: 'SettlementCurrencyRate'
    description: ''
  - name: 'OrigCurrSettlementAmount'
    description: ''
  - name: 'OriginalCurrency'
    description: ''
    genericControls:
      defColumnPos: 9
  - name: 'OrigCurrencyExponent'
    description: ''
  - name: 'CustomerCurrencyRate'
    description: ''
  - name: 'SettlementCountryCode'
    description: ''
  - name: 'CurrencyRateDivisor'
    description: '117'
  - name: 'MessageTypeId'
    description: ''
    genericControls:
      refTable: 'PtPaymentOrderMsgType'
      refField: 'Id'
  - name: 'ATMAccountNo'
    description: 'TerminalId will be used to determine actual ATM debit/Credit AccountNo from AsATMConfig'
    genericControls:
      refTable: 'PtAccountBase'
      refField: 'AccountNo'
      hasDetailBtn: true
  - name: 'CustomerAccountNo'
    description: 'Account number of Bank''s Customer to be debited or Credited. Card number is used to determin the customer account Number'
    genericControls:
      refTable: 'PtAccountBase'
      refField: 'AccountNo'
      hasDetailBtn: true
      defColumnPos: 8
  - name: 'ErrorDescription'
    description: 'In case a single paymentfield, it will be marked as error and error will be saved in this field.'
    genericControls:
      multiLine: true
  - name: 'TerminalAddress1'
    description: 'Terminal Address Part 1'
    genericControls:
      defColumnPos: 10
  - name: 'TerminalAddress2'
    description: 'Terminal Address Part 2'
  - name: 'TerminalAddress3'
    description: 'Terminal Address Part 3'
  - name: 'TerminalLocationShort'
    description: 'Short form of terminal address'
  - name: 'KIAccountInfo'
    description: 'Card holder account information (if available to telekurs)'
  - name: 'MerchantCategory'
    description: 'Merchant Category Code (MCC)'
  - name: 'ServiceCenterNo'
    description: 'Branch Code'
    genericControls:
      refTable: 'AsProfitCenter'
      refField: 'ProfitCenterNo'
  - name: 'FileSource'
    description: ''
    genericControls:
      defColumnPos: 12
  - name: 'RetrievalRefNo'
    description: 'Retrieval Reference Number (OTIS)'
  - name: 'AuthTrxId'
    description: 'ID of the dispo booking (NID)\r\ncontent can have a comma separated list of authorisation IDs'
  - name: 'SessionReference'
    description: 'KTB Field 19'
  - name: 'AddTerminalCharge'
    description: 'KTB Field 213 - Additional termina charge'
  - name: 'CashBackAmount'
    description: 'KTB Field 212'
  - name: 'SchemeTransactionId'
    description: 'KTB 215'
  - name: 'KIPresenceCode'
    description: 'KTB Field 216'
  - name: 'SettlementFlag'
    description: 'KTB 204. Y/N'
  - name: 'IssuerCountryCode'
    description: 'KTB 205. ISO 3166 Code'
  - name: 'MoneyType'
    description: ''
  - name: 'AtmType'
    description: ''
  - name: 'MultipleClearingFlag'
    description: ''
  - name: 'IssuerCharge'
    description: 'KTB 209 - Currency Segment - Charges accepted on ATM by Card Hlder'
  - name: 'IssuerAgioDisagio'
    description: 'KTB 210 - Currency Segment - Agio Disagio accepted on ATM by card holder'
  - name: 'CashbackAmountOrigCurrency'
    description: 'KTB 218 - Currency Segment - Chashback amount in original currency'
  - name: 'AdditionalAtmChargeOrigCur'
    description: ''
  - name: 'TipAmountOrigCurrency'
    description: ''
  - name: 'OriginalCustomerRate'
    description: 'KTB 90 - Reverse Transaction Segment'
  - name: 'CustomerCurrencyRateFxTrans'
    description: 'KTB Field 68'
  - name: 'TipAmount'
    description: ''
  - name: 'TransApprovalCode'
    description: ''
  - name: 'InterchangeFee'
    description: ''
  - name: 'CurrencyInterchangeFee'
    description: ''
  - name: 'IsInterchangeFeeDebit'
    description: ''
  - name: 'CardNo'
    description: ''
  - name: 'CustomerAccountNoIBAN'
    description: ''
  - name: 'ProcessLabel'
    description: 'Label for parallel processing of KTB records, for example Mastercard'